apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
namespace: arr

images:
  - name: lscr.io/linuxserver/sabnzbd
    newTag: 4.5.2
  - name: lscr.io/linuxserver/sonarr
    newTag: 4.0.15
  - name: lscr.io/linuxserver/radarr
    newTag: 5.26.2
  - name: lscr.io/linuxserver/bazarr
    newTag: 1.5.2
  - name: lscr.io/linuxserver/lidarr
    newTag: 2.12.4
  - name: lscr.io/linuxserver/jackett
    newTag: 0.22.2315
  - name: haugene/transmission-openvpn
    newTag: 5.3.2
  - name: golift/notifiarr
    newTag: 0.8.3

resources:
  - namespace.yaml
  - sabnzbd.yaml
  - transmission.yaml
  - jackett.yaml
  - notifiarr.yaml
  - radarr.yaml
  - sonarr.yaml
  - anime.yaml
  - bazarr.yaml
  - bazarr-anime.yaml
  - lidarr.yaml
  - readarr.yaml
  - audiobooks.yaml

patches:
  - target:
      kind: Ingress
    patch: |-
      - op: add
        path: "/metadata/annotations/nginx.ingress.kubernetes.io~1whitelist-source-range"
        value: "192.168.0.0/16"